Содержание:
1. [[#CPU jumps]]
2. [[#CPU usage]]
3. [[#CPU utilization]]
4. [[#DB ai Locks]]
### CPU jumps
![[Screenshot_207.png]]

> [!NOTE] Описание
> На графике в Zabbix "CPU jumps" (или "прыжки ЦПУ") означают резкие, внезапные всплески загрузки процессора. Это может указывать на кратковременное, но интенсивное выполнение каких-либо задач, которые вызвали временное увеличение нагрузки на процессор. Причиной таких "прыжков" может быть запуск новых приложений, выполнение скриптов, а также периодические фоновые процессы

***Возможные причины "прыжков" ЦПУ***

- **Запуск приложений:** При запуске нового приложения или программы может произойти резкий скачок использования процессора, который затем возвращается к нормальному уровню.
- **Выполнение скриптов:** Скрипты, которые выполняются по расписанию или в ответ на какое-либо событие, могут временно нагружать процессор.
- **Фоновые процессы:** Периодические задачи, такие как индексация, резервное копирование, проверка обновлений, могут вызывать временное увеличение загрузки ЦПУ.
- **События ввода-вывода (I/O):** Хотя I/O wait — это время ожидания, а не активное использование ЦПУ, интенсивные операции с диском или сетью могут косвенно приводить к скачкам загрузки, когда процессор начинает активно обрабатывать данные.

***Что делать при обнаружении "прыжков"***

- **Анализ логов:** Проверьте логи системы в моменты "прыжков", чтобы выявить, какие процессы в это время активно использовали процессор.
- **Используйте утилиты командной строки:** Используйте такие команды, как `top` или `htop` в Linux, чтобы в реальном времени отслеживать, какие процессы занимают процессор в данный момент.
- **Мониторинг приложений:** Если вы подозреваете, что проблема связана с конкретным приложением, настройте дополнительный мониторинг самого приложения, чтобы понять его поведение.

***Описание параметров***
- **interrupts per second** - (прерываний в секунду), указывают на высокую активность прерываний, которые обрабатываются процессором. Эти скачки могут быть вызваны различными факторами, такими как интенсивная сетевая активность, работа с устройствами ввода/вывода (диски, сетевые карты) или другие задачи, требующие немедленного внимания от процессора. Для устранения проблемы необходимо выявить источник этих прерываний, проанализировать сетевой трафик и нагрузку на дисковую подсистему или использовать инструменты вроде `vmstat` или `dstat` для более детальной диагностики

### CPU usage
![[Screenshot_208.png]]

> [!NOTE] Title
> График **CPU usage** (использование процессора) в Zabbix показывает, **насколько загружен центральный процессор сервера в процентах**, и на что именно он тратит свое время

***Что отражает график***

- **User (Пользовательское время):** Время, которое процессор тратит на выполнение пользовательских приложений и процессов (например, веб-серверы, базы данных, скрипты).
- **System (Системное время):** Время, которое процессор тратит на выполнение функций ядра операционной системы (системные вызовы, управление памятью и т.д.).
- **Iowait (Ожидание ввода/вывода):** Время, в течение которого процессор простаивает в ожидании завершения операций ввода/вывода (например, чтения/записи на диск или по сети). Высокие значения могут указывать на проблемы с дисковой подсистемой.
- **Idle (Время простоя):** Время, когда процессор не выполняет никаких задач. Общее использование ЦП — это, по сути, 100% минус время простоя (Idle time).
- **Nice (Измененный приоритет):** Время, затраченное на выполнение пользовательских процессов с измененным (пониженным) приоритетом.
- **Steal (Украденное время):** Актуально для виртуальных машин. Это время, "украденное" гипервизором у данной виртуальной машины для выполнения других задач или обслуживания других виртуальных машин.

***Интерпретация графика***

- **Высокое общее использование (сумма user + system + iowait):** Если общая загрузка ЦП постоянно превышает определенный порог (например, 80-90%), это может свидетельствовать о нехватке вычислительных ресурсов.
- **Преобладание "user time":** Означает, что основные ресурсы потребляют пользовательские приложения.
- **Преобладание "system time":** Может указывать на интенсивную работу ядра, например, из-за большого количества системных вызовов или управления процессами.
- **Высокий "iowait":** Говорит о том, что процессор ждет данные. Это может быть узким местом системы.
- **Высокий "steal time":** Указывает на то, что вашей виртуальной машине не выделяется достаточно ресурсов гипервизором.


### CPU utilization
![[Screenshot_209.png]]

> [!NOTE] Описание
> График ***CPU utilization*** в Zabbix показывает процент загруженности процессора (CPU) за определенный промежуток времени. Он отражает долю времени, которое процессор тратит на выполнение задач, а не на простой ***(idle)***


> [!important] Отличие от Load Avarage
> Важно понимать, что график **CPU utilization** отличается от **CPU load average**. CPU utilization показывает процент использования ЦП в моменте, а load average — среднее количество процессов, находящихся в очереди на выполнение за определенный период времени.

***Что отражает график***

- **Высокий `CPU utilization`**: Указывает на то, что процессор очень занят выполнением задач. Это может быть нормально для некоторых приложений, но в целом высокий показатель может означать, что системе не хватает вычислительных ресурсов или она перегружена.
- **Низкий `CPU utilization`**: Означает, что процессор имеет много свободного времени и не загружен работой.
- **Время простоя (Idle Time)**: На графике `CPU utilization` это время, когда процессор находится в режиме ожидания и не выполняет никаких задач.
- **Разные типы нагрузки**: В более подробных метриках можно увидеть, какая часть загрузки приходится на выполнение пользовательских приложений (`user time`) или на системные задачи (`system time`), что помогает точнее понять причину высокой загрузки.

***Как интерпретировать***

- **Низкая утилизация (например, 10-30%)**: Процессор в основном простаивает, у сервера есть значительный запас мощности.
- **Умеренная утилизация (например, 50-70%)**: Нормальный режим работы для большинства серверов в пиковые часы.
- **Высокая утилизация (например, постоянно выше 90% или 95%)**: Это может быть признаком "бутылочного горлышка" (bottleneck). Возможно, серверу не хватает процессорной мощности, и он не может эффективно обрабатывать все входящие запросы, что может приводить к задержкам и снижению производительности системы

### DB ai: Locks
![[Screenshot_210.png]]


> [!NOTE] Описание
> График **db ai locks** в Zabbix интерпретируется как отслеживание **блокировок в базе данных**, которые возникают из-за конкурентного доступа к данным. Высокие значения на графике сигнализируют о том, что множество запросов пытаются одновременно получить доступ к одним и тем же ресурсам, что может приводить к снижению производительности. Интерпретация графика зависит от контекста

***Что отражает график***

- **Нормальный уровень:** Небольшое количество блокировок — это нормально для высоконагруженных систем.
- **Повышение уровня:** Резкий или постоянный рост блокировок может указывать на проблемы с производительностью и потенциальные узкие места.
- **Аномалии:** График поможет выявить пиковые нагрузки, которые могут быть вызваны определенными операциями, такими как массовые обновления или интенсивные транзакции.

***Как интерпретировать***

- **Стабильный высокий уровень:** Если блокировки всегда находятся на высоком уровне, это может означать, что архитектура или запросы нуждаются в оптимизации.
- **Резкие пики:** Большие скачки на графике могут совпадать с определенными событиями, например, запуском пакетных заданий или пиковой нагрузкой на приложение.
- **Периодические всплески:** Регулярные пики могут указывать на проблемы с расписанием или часто повторяющимися операциями, которые создают конфликты.