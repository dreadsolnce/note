***Установка helm***

```
curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-4 | bash
```

```
helm version
```

***Автодополнение команд helm***

```
helm completion bash > ~/.helm_completion.sh
```

```
# add to .bashrc
source ~/.helm_completion.sh
```

```
source ~/.bashrc
```

### Задание 1. Подготовить Helm-чарт для приложения

***Создание нового чарта с именем app-test***

```
helm create app-test
```

***Проверка шаблона***

```
helm template template-app .
```

***Установить шаблон***

```
helm install app-test
```

![[Снимок экрана от 2025-12-22 10-43-48.png]]

***Обновить (а при отсутствии установить) мой чарт***

```
helm upgrade -i app-test .
```

![[Снимок экрана от 2025-12-22 11-04-19.png]]

***Удалить***

```
helm uninstall app-test
```

***Применение изменений***

> [!NOTE] Замечание
> При изменении Values на свои значения, желательно их изменять не в файле values.yml а создать новый файл и в нем переназначать новые значения

![[Снимок экрана от 2025-12-22 11-49-10.png]]


> [!NOTE] Замечание
> И при запуске через helm ссылаться на этот файл

```
helm upgrade -i app-test . -f values.prod.yaml
```


![[Снимок экрана от 2025-12-22 11-55-30.png]]

```
helm upgrade -i app-test . -f values.dev.yaml
```

![[Снимок экрана от 2025-12-22 11-57-09.png]]
### Задание 2. Запустить две версии в разных неймспейсах

***Создаем namespace***

```
kubectl create namespace app1
```

```
kubectl create namespace app2
```

```
kubectl get namespaces
```

![[Снимок экрана от 2025-12-22 12-01-21.png]]

```
helm upgrade -i app-test . -n default
```

```
helm upgrade -i app-test . -f values.dev.yaml -n app1
```

```
helm upgrade -i app-test . -f values.prod.yaml -n app2
```

```
helm list -n default
```

```
helm list -n app1
```

```
helm list -n app2
```

![[Снимок экрана от 2025-12-22 13-19-27.png]]

![[Снимок экрана от 2025-12-22 13-20-32.png]]

![[Снимок экрана от 2025-12-22 13-20-42.png]]
![[Снимок экрана от 2025-12-22 13-20-53.png]]
