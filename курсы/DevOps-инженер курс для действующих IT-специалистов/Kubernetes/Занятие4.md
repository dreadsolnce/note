# Задание 1

---
 - ***Создать Deployment приложения, состоящего из двух контейнеров (nginx и multitool), с количеством реплик 3 шт..***
```
cat deployment-web.yaml
```

![[Снимок экрана от 2025-12-12 13-20-53.png]]

```
kubectl apply -f deployment-web.yaml
```

```
kubectl get deployments.apps web -o wide
```

![[Снимок экрана от 2025-12-12 13-23-05.png]]

- ***Создать Service, который обеспечит доступ внутри кластера до контейнеров приложения из п.1 по порту 9001 — nginx 80, по 9002 — multitool 8080.****

```
cat service-web.yaml 
```

![[Снимок экрана от 2025-12-12 14-56-26.png]]
- ***Создать отдельный Pod с приложением multitool и убедиться с помощью `curl`, что из пода есть доступ до приложения из п.1 по разным портам в разные контейнеры.***

```
cat pod-multitool.yaml 
```

![[Снимок экрана от 2025-12-12 14-59-06.png]]

```
kubectl apply -f pod-multitool.yaml 
```

```
kubectl get pods
```

![[Снимок экрана от 2025-12-12 15-00-13.png]]

- ***Продемонстрировать доступ с помощью `curl` по доменному имени сервиса.***

```
kubectl exec -it pod-multitool -- bash
```

```
curl http://service-web:9001
```

```
curl http://service-web:9002
```

![[Снимок экрана от 2025-12-12 15-02-43.png]]

# Задание 2
____
- ***Создать отдельный Service приложения из Задания 1 с возможностью доступа снаружи кластера к nginx, используя тип NodePort.***
```
cat service-web-NodePort.yml
```

![[Снимок экрана от 2025-12-12 15-58-34.png]]

- ***Продемонстрировать доступ с помощью браузера или `curl` с локального компьютера.***
```
kubectl get services service-web -o wide
```

![[Снимок экрана от 2025-12-12 16-00-46.png]]

```
curl http://158.160.65.69:31000
```

![[Снимок экрана от 2025-12-12 16-01-29.png]]

![[Снимок экрана от 2025-12-12 16-01-49.png]]
# Задание 3. Создать Deployment приложений backend и frontend
____
- ***Создать Deployment приложения _frontend_ из образа nginx с количеством реплик 3 шт***
```
cat deploy-front.yml
```

![[Снимок экрана от 2025-12-12 16-07-56.png]]

```
kubectl apply -f deploy-front.yml
```

```
kubectl get deployments.apps deploy-front -o wide
```

![[Снимок экрана от 2025-12-12 16-09-30.png]]

- ***Создать Deployment приложения _backend_ из образа multitool.***
```
cat deploy-back.yml 
```

![[Снимок экрана от 2025-12-12 16-17-05.png]]

```
kubectl apply -f deploy-back.yml
```

```
kubectl get deployments.apps deploy-back -o wide
```

```
kubectl get deployments.apps
```

![[Снимок экрана от 2025-12-12 16-13-46.png]]

- ***Добавить Service, которые обеспечат доступ к обоим приложениям внутри кластера.***

```
cat service-web.yml 
```

![[Снимок экрана от 2025-12-12 16-25-03.png]]

```
kubectl apply -f service-web.yml
```

```
kubectl get services service-web -o wide
```

![[Снимок экрана от 2025-12-12 16-26-31.png]]

```
kubectl exec -it deploy-front-6c8c786b96-86pw4 -- bash
```

![[Снимок экрана от 2025-12-12 16-27-24.png]]

```
kubectl exec -it deploy-back-699dd94cb9-cg977 -- bash
```

![[Снимок экрана от 2025-12-12 16-28-16.png]]

# Задание 4. Создать Ingress и обеспечить доступ к приложениям снаружи кластера
___

- ***Включить Ingress-controller в MicroK8S.***

```
microk8s status
```

```
microk8s enable ingress
```

```
microk8s status -a ingress
```

![[Снимок экрана от 2025-12-12 16-33-44.png]]

- ***Создать Ingress, обеспечивающий доступ снаружи по IP-адресу кластера MicroK8S так, чтобы при запросе только по адресу открывался frontend а при добавлении /api - backend.***
