**Оглавление:**

1. [[#Как настроить приоритет репозитория (apt-pinning)]]
2. [[#Поиск установленных пакетов]]

###### Как настроить приоритет репозитория (apt-pinning)

1. **Создайте файл предпочтений**. Создайте новый файл с расширением `.pref` в каталоге `/etc/apt/preferences.d/`. Например, `custom_priority.pref`.
  
   ```
    sudo nano /etc/apt/preferences.d/custom_priority.pref
    ```
   
   Используйте код с осторожностью.
   

- **Добавьте правила закрепления**. В этом файле нужно указать репозиторий и желаемый приоритет.
    - **Package**: `*` — правило применяется ко всем пакетам.
    - **Pin**: Задаёт источник, к которому применяется правило (например, по URL, названию дистрибутива, версии).
    - **Pin-Priority**: Число, определяющее приоритет.
        - `1000` и выше: безусловная установка пакетов из этого репозитория.
        - `500`: установка, если нет более новой версии.
        - `100` и ниже: установка, только если пакет не найден в репозиториях с более высоким приоритетом.
- **Пример настройки**:
    
 ```
    Package: *
    Pin: release a=some-custom-repo
    Pin-Priority: 900
    ```
    
    В этом примере, пакеты из репозитория с названием `some-custom-repo` будут иметь высокий приоритет (`900`).
- **Обновите список пакетов**:
    
    sh
    
    ```
    sudo apt update
    ```
    
    Используйте код с осторожностью.
    

- **Проверьте приоритеты**. Чтобы увидеть, как APT будет выбирать пакеты после изменения приоритетов, используйте команду `apt-cache policy`. Она покажет, какие репозитории и с каким приоритетом доступны для конкретного пакета.
    
    sh
    
    ```
    apt-cache policy <имя-пакета>
    ```
    
    Используйте код с осторожностью.
    
```
###### Поиск установленных пакетов через apt

```
apt list --installed
```

```
sudo apt list --installed | grep python
```

```
sudo apt list --installed | grep python | wc -l
```

###### Поиск пакета в источниках для установки

```
sudo apt-cache policy apache2
```


